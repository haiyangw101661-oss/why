<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»™å®è´çš„App</title>
    
    <!-- å¼•å…¥Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- å¼•å…¥ Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        /* è‡ªå®šä¹‰å­—ä½“ */
        body {
            font-family: 'Inter', sans-serif;
        }
        .font-display {
            font-family: 'Dancing Script', cursive;
        }
        
        /* åŠ¨æ€æ¸å˜èƒŒæ™¯ */
        body {
            background: linear-gradient(-45deg, #fbc2eb, #a6c1ee, #fddb92, #fbc2eb);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* æ¨¡æ€æ¡†å¼¹å‡ºåŠ¨ç”» */
        .modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .modal-hidden {
            opacity: 0;
            transform: scale(0.9);
            pointer-events: none;
        }
        .modal-visible {
            opacity: 1;
            transform: scale(1);
        }
        
        /* æŒ‰é’®çš„æœå†»/Qå¼¹æ•ˆæœ */
        .jello-button {
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: 0 4px 15px 0 rgba(100, 100, 100, 0.2);
        }
        .jello-button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px 0 rgba(100, 100, 100, 0.3);
        }
        .jello-button:active {
            transform: scale(0.95);
        }

        /* ç²’å­åŠ¨ç”» */
        .particle {
            position: absolute;
            font-size: 1.5rem;
            animation: particle-fall 5s linear; 
            top: -10%;
        }
        
        @keyframes particle-fall {
            0% {
                top: -10%;
                opacity: 1;
            }
            100% {
                top: 110%;
                opacity: 0.5;
            }
        }
        
        /* V1G-ZH: è½®æ’­æŒ‰é’®æ ·å¼ */
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 60; /* ç¡®ä¿åœ¨å†…å®¹ä¹‹ä¸Š */
            background-color: rgba(0, 0, 0, 0.3);
            color: white;
            border-radius: 9999px; /*
            padding: 0.75rem; /* 12px */
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .carousel-btn:hover {
            background-color: rgba(0, 0, 0, 0.6);
            transform: translateY(-50%) scale(1.1);
        }
        
        /* V1G-ZH: ç…§ç‰‡å†…å®¹æ ·å¼ */
        #gallery-content-container img {
            max-width: 90vw;
            max-height: 90vh; 
            object-fit: contain; 
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* V1G-ZH: æ–‡æœ¬å†…å®¹æ ·å¼ */
        .text-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 24rem; /* 384px, sm */
            padding: 1.5rem; /* 24px, p-6 */
            background-color: white;
            border-radius: 1.5rem; /* rounded-3xl */
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* shadow-xl */
            text-align: center;
        }
        
    </style>
</head>
<body class="overflow-hidden">
    
    <!-- ç²’å­å®¹å™¨ -->
    <div id="particle-container" class="absolute inset-0 z-0 overflow-hidden" aria-hidden="true">
        <!-- JS ä¼šåœ¨è¿™é‡ŒåŠ¨æ€æ·»åŠ ç²’å­ -->
    </div>

    <!-- ä¸»å†…å®¹ -->
    <div class="relative flex flex-col items-center justify-center min-h-screen p-6 z-10">
        
        <!-- ä¸»å¡ç‰‡ -->
        <div class="w-full max-w-md p-8 bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl shadow-pink-200/50 text-center">
            
            <h1 class="font-display text-5xl font-bold text-pink-600">
                ç»™æˆ‘çš„å®è´
            </h1>
            
            <p class="mt-4 text-lg text-gray-700">
                ç”Ÿæ´»ä¸­çš„ä¸€äº›å°ç¾å¥½...
            </p>

            <!-- æŒ‰é’®ç½‘æ ¼ -->
            <div class="grid grid-cols-2 gap-6 mt-10">
                
                <!-- æŒ‰é’® 1 -->
                <button id="btn-1" class="jello-button text-white py-4 px-6 rounded-2xl text-lg font-semibold bg-gradient-to-r from-pink-500 to-rose-500">
                    ğŸ’Œ çˆ±çš„ä¾¿ç­¾
                </button>
                
                <!-- æŒ‰é’® 2 -->
                <button id="btn-2" class="jello-button text-white py-4 px-6 rounded-2xl text-lg font-semibold bg-gradient-to-r from-purple-500 to-indigo-500">
                    âœ¨ éœ€è¦é¼“åŠ±æ—¶
                </button>
                
                <!-- æŒ‰é’® 3 -->
                <button id="btn-3" class="jello-button text-white py-4 px-6 rounded-2xl text-lg font-semibold bg-gradient-to-r from-teal-400 to-cyan-500">
                    ğŸ‰ æ¯æ—¥ä¸€å¤¸
                </button>
                
                <!-- æŒ‰é’® 4 -->
                <button id="btn-4" class="jello-button text-white py-4 px-6 rounded-2xl text-lg font-semibold bg-gradient-to-r from-amber-500 to-orange-500 opacity-50 cursor-not-allowed" disabled>
                    ğŸ’– æ­£åœ¨åŠ è½½å›å¿†...
                </button>
                
            </div>
            
            <p class="mt-8 text-xs text-gray-400">
                Made with â¤ï¸ by why
            </p>
        </div>
        
    </div>

    <!-- V1G-ZH: ç»Ÿä¸€çš„ç”»å»Šæ¨¡æ€æ¡† -->
    <div id="gallery-modal" class="modal modal-hidden fixed inset-0 z-50 flex items-center justify-center p-4">
        <!-- é®ç½© -->
        <div id="gallery-overlay" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
        
        <!-- å…³é—­æŒ‰é’® (å³ä¸Šè§’) -->
        <button id="gallery-close" class="absolute top-4 right-4 z-50 text-white bg-black/30 hover:bg-black/50 rounded-full p-2 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
        
        <!-- ä¸Šä¸€ä¸ªæŒ‰é’® (å·¦ä¾§) -->
        <button id="gallery-prev" class="carousel-btn left-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        
        <!-- ä¸‹ä¸€ä¸ªæŒ‰é’® (å³ä¾§) -->
        <button id="gallery-next" class="carousel-btn right-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
        </button>

        <!-- å†…å®¹å®¹å™¨ (æ–‡å­—æˆ–å›¾ç‰‡) -->
        <div id="gallery-content-container" class="relative flex justify-center items-center w-full h-full">
            <!-- JS å°†åœ¨æ­¤å¤„æ³¨å…¥å†…å®¹ -->
        </div>
    </div>


    <script>
        // --- 1. è·å–å…ƒç´  ---
        const particleContainer = document.getElementById('particle-container');
        
        // V1G-ZH: ç§»é™¤æ—§çš„ modal å…ƒç´ 
        // const textModal = ...
        // const photoModal = ...

        // V1G-ZH: è·å–æ–°çš„ gallery-modal å…ƒç´ 
        const galleryModal = document.getElementById('gallery-modal');
        const galleryOverlay = document.getElementById('gallery-overlay');
        const galleryClose = document.getElementById('gallery-close');
        const galleryPrev = document.getElementById('gallery-prev');
        const galleryNext = document.getElementById('gallery-next');
        const galleryContentContainer = document.getElementById('gallery-content-container');

        const btn1 = document.getElementById('btn-1');
        const btn2 = document.getElementById('btn-2');
        const btn3 = document.getElementById('btn-3');
        const btn4 = document.getElementById('btn-4');

        // V1G-ZH: è½®æ’­çŠ¶æ€å˜é‡
        let currentList = [];
        let currentIndex = 0;
        let currentListType = 'text'; // 'text' æˆ– 'photo'
        let currentIcon = 'ğŸ’Œ'; // ç”¨äºæ–‡æœ¬

        // (!!) !! V11 æœ€ç»ˆç‰ˆ !! (!!)
        // (!!) æˆ‘å·²æ ¹æ®æ‚¨çš„ä¿¡æ¯å¸®æ‚¨å¡«å¥½äº†ï¼Œæ‚¨æ— éœ€ä¿®æ”¹æ­¤éƒ¨åˆ† (!!)
        const GITHUB_USERNAME = 'haiyangw101661-oss';
        const GITHUB_REPO_NAME = 'why';
        // (!!) !!ã€ã€ã€ ----------------------- ã€‘ã€‘ã€‘ (!!)

        // --- 2. è¯­å½•å’Œç…§ç‰‡æ•°æ® ---
        // (!!) !!è¯·åœ¨è¿™é‡Œä¿®æ”¹ä¸ºæ‚¨æƒ³è¯´çš„è¯!! (!!)
        const quotes = {
            btn1: [
                'è¿™åªæ˜¯ä¸€ä¸ªæé†’ï¼šæˆ‘æ¯æ—¶æ¯åˆ»éƒ½åœ¨æƒ³ä½ ï¼',
                'é‡åˆ°ä½ ï¼Œæ˜¯æˆ‘è¿™è¾ˆå­æœ€å¹¸è¿çš„äº‹ã€‚',
                'ä½ çš„ç¬‘å®¹ï¼Œæ˜¯æˆ‘ä¸€å¤©çš„åŠ¨åŠ›ï¼',
                'ä½ å°±åƒé˜³å…‰ä¸€æ ·ï¼Œç…§äº®äº†æˆ‘çš„ä¸–ç•Œã€‚',
                'æœ‰ä½ åœ¨èº«è¾¹ï¼Œå†å¤§çš„å›°éš¾ä¹Ÿä¸æ€•ã€‚',
                'æ¯ä¸€æ¬¡å‘¼å¸ï¼Œéƒ½ä¸ºä½ å¿ƒåŠ¨ã€‚',
                'ä½ çš„å‡ºç°ï¼Œæ²»æ„ˆäº†æˆ‘æ‰€æœ‰çš„ä¸å¼€å¿ƒã€‚',
                'æƒ³æŠŠä¸–ç•Œä¸Šæ‰€æœ‰çš„æ¸©æŸ”éƒ½ç»™ä½ ã€‚',
                'å’Œä½ åœ¨ä¸€èµ·ï¼Œæ¯ä¸€å¤©éƒ½æ˜¯æƒ…äººèŠ‚ã€‚'
            ],
            btn2: [
                'ä½ å·²ç»è¶…çº§æ£’äº†ï¼ç´¯äº†å°±æ­‡ä¸€æ­‡ï¼Œæˆ‘æ°¸è¿œæ˜¯ä½ æœ€åšå®çš„åç›¾ã€‚',
                'åˆ«æ‹…å¿ƒï¼Œå¤©å¡Œä¸‹æ¥æœ‰æˆ‘é¡¶ç€ï¼',
                'ç›¸ä¿¡è‡ªå·±ï¼Œä½ æ¯”æƒ³è±¡ä¸­æ›´å¼ºå¤§ã€‚',
                'ä½ åšçš„æ¯ä¸€ä¸ªå†³å®šï¼Œæˆ‘éƒ½æ”¯æŒã€‚',
                'ç´¯çš„æ—¶å€™ï¼Œæƒ³æƒ³æˆ‘ï¼Œæˆ‘æ˜¯ä½ çš„èƒ½é‡è¡¥ç»™ç«™ã€‚',
                'æ²¡å…³ç³»ï¼Œæ…¢æ…¢æ¥ï¼Œæˆ‘ä¼šä¸€ç›´é™ªç€ä½ ã€‚',
                'ä½ çš„åŠªåŠ›ï¼Œæˆ‘éƒ½çœ‹åœ¨çœ¼é‡Œï¼ŒçœŸçš„ä¸ºä½ éª„å‚²ã€‚',
                'è®°å¾—çˆ±è‡ªå·±å¤šä¸€ç‚¹ï¼Œä½ å€¼å¾—ä¸–é—´æ‰€æœ‰çš„ç¾å¥½ã€‚',
                'ä»»ä½•æ—¶å€™ï¼Œæˆ‘éƒ½ä¼šæ˜¯ç¬¬ä¸€ä¸ªä¸ºä½ åŠ æ²¹çš„äººã€‚'
            ],
            btn3: [
                'ä»Šæ—¥ä»½å¤¸å¥–ï¼šä½ çš„çœ¼ç›é‡Œæœ‰æ˜Ÿæ˜Ÿï¼',
                'æ€ä¹ˆä¼šæœ‰äººè¿ç”Ÿæ°”çš„æ ·å­éƒ½è¿™ä¹ˆå¯çˆ±ï¼',
                'ä½ æ˜¯æˆ‘è§è¿‡æœ€æœ‰å“å‘³çš„äººï¼',
                'ä½ çš„å£°éŸ³å°±åƒå¤©ç±ï¼Œè®©æˆ‘ç™¾å¬ä¸åŒã€‚',
                'ä½ çš„å‘ä¸éƒ½é€éœ²ç€è¿·äººçš„é­…åŠ›ã€‚',
                'ç©¿ä»€ä¹ˆéƒ½å¥½çœ‹ï¼Œç®€ç›´æ˜¯è¡Œèµ°çš„ç”»æŠ¥ã€‚',
                'ä½ çš„å–„è‰¯å’Œæ¸©æŸ”ï¼Œæ˜¯è¿™ä¸ªä¸–ç•Œæœ€å®è´µçš„è´¢å¯Œã€‚',
                'èªæ˜åˆå¯çˆ±ï¼Œæ€ä¹ˆä¼šæœ‰è¿™ä¹ˆå®Œç¾çš„äººï¼',
                'è·Ÿä½ åœ¨ä¸€èµ·ï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±ä¹Ÿå˜å¾—æ›´å¥½äº†ã€‚'
            ]
        };
        
        // V11: ç…§ç‰‡é“¾æ¥å°†ä»GitHubåŠ¨æ€åŠ è½½
        let photoLinks = []; 
                
        // V7: ç²’å­ç±»å‹æ•°ç»„
        const particleTypes = ['ğŸ’–', 'âœ¨', 'ğŸŒ¸', 'ğŸŒŸ'];

        // --- 3. è¾…åŠ©å‡½æ•° ---
        
        // ä»æ•°ç»„ä¸­éšæœºè·å–ä¸€é¡¹ (V1G-ZH: æˆ‘ä»¬ç°åœ¨ä¸»è¦ç”¨å®ƒæ¥æ´—ç‰Œ)
        function getRandomItem(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }
        
        // V1G-ZH: Fisher-Yates æ•°ç»„æ´—ç‰Œç®—æ³•
        function shuffleArray(array) {
            let newArr = [...array]; // åˆ›å»ºå‰¯æœ¬
            for (let i = newArr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArr[i], newArr[j]] = [newArr[j], newArr[i]];
            }
            return newArr;
        }
        
        // --- 4. V1G-ZH: ç»Ÿä¸€çš„ç”»å»Šæ¨¡æ€æ¡†å‡½æ•° ---

        // æ ¹æ®ç´¢å¼•æ˜¾ç¤ºå½“å‰é¡¹ç›®
        function displayCurrentItem() {
            const item = currentList[currentIndex];
            
            // æ¸…ç©ºæ—§å†…å®¹
            galleryContentContainer.innerHTML = ''; 

            if (currentListType === 'text') {
                // æ˜¯è¯­å½•
                galleryContentContainer.innerHTML = `
                    <div class="text-content-wrapper">
                        <div class="text-6xl mb-4">${currentIcon}</div>
                        <p class="text-xl text-gray-800 font-semibold">${item}</p>
                    </div>
                `;
            } else {
                // æ˜¯ç…§ç‰‡
                galleryContentContainer.innerHTML = `
                    <img src="${item}" alt="æˆ‘ä»¬çš„å›å¿†" class="max-w-full max-h-[90vh] object-contain rounded-3xl shadow-xl">
                `;
            }
        }

        // æ‰“å¼€ç”»å»Š
        function showGalleryModal(list, type, icon = '') {
            if (list.length === 0) return; // å®‰å…¨æ£€æŸ¥

            currentList = shuffleArray(list); // æ¯æ¬¡æ‰“å¼€éƒ½æ´—ç‰Œ
            currentIndex = 0; // ä»ç¬¬ä¸€ä¸ªå¼€å§‹
            currentListType = type;
            if (type === 'text') {
                currentIcon = icon;
            }
            
            displayCurrentItem();
            galleryModal.classList.remove('modal-hidden');
            galleryModal.classList.add('modal-visible');
        }

        // å…³é—­ç”»å»Š
        function hideGalleryModal() {
            galleryModal.classList.add('modal-hidden');
            galleryModal.classList.remove('modal-visible');
            galleryContentContainer.innerHTML = ''; // å…³é—­æ—¶æ¸…ç©ºå†…å®¹
        }
        
        // V1G-ZH: å¯¼èˆªå‡½æ•°
        function showNextItem() {
            currentIndex++;
            if (currentIndex >= currentList.length) {
                currentIndex = 0; // å¾ªç¯åˆ°å¼€å¤´
            }
            displayCurrentItem();
        }
        
        function showPrevItem() {
            currentIndex--;
            if (currentIndex < 0) {
                currentIndex = currentList.length - 1; // å¾ªç¯åˆ°æœ«å°¾
            }
            displayCurrentItem();
        }

        // --- 5. V1G-ZH: ä» GitHub åŠ è½½ç…§ç‰‡ (ä¸V11ç›¸åŒ) ---
        async function fetchPhotosFromGitHub() {
            const apiUrl = `https://api.github.com/repos/${GITHUB_USERNAME}/${GITHUB_REPO_NAME}/contents/`;
            const imageExtensions = ['.jpg', '.jpeg', '.png', '.gif', '.webp'];

            try {
                const response = await fetch(apiUrl + '?t=' + new Date().getTime());
                if (!response.ok) throw new Error(`GitHub API é”™è¯¯: ${response.statusText}`);
                
                const files = await response.json();
                
                if (Array.isArray(files)) {
                    files.forEach(file => {
                        if (file.type === 'file' && imageExtensions.some(ext => file.name.toLowerCase().endsWith(ext))) {
                            photoLinks.push(file.download_url);
                        }
                    });
                }
                if (photoLinks.length === 0) throw new Error('åœ¨ä»“åº“ä¸­æ²¡æœ‰æ‰¾åˆ°å›¾ç‰‡æ–‡ä»¶ã€‚');

                // åŠ è½½æˆåŠŸ
                btn4.disabled = false;
                btn4.textContent = 'ğŸ’– æˆ‘ä»¬çš„å›å¿†';
                btn4.classList.remove('opacity-50', 'cursor-not-allowed');

            } catch (error) {
                console.error('åŠ è½½ GitHub ç…§ç‰‡å¤±è´¥:', error);
                btn4.textContent = 'ğŸ’” ç…§ç‰‡åŠ è½½å¤±è´¥';
                btn4.classList.add('opacity-70');
                btn4.disabled = true; 
            }
        }

        // --- 6. V1G-ZH: ç»‘å®šäº‹ä»¶ (å·²æ›´æ–°) ---
        
        btn1.addEventListener('click', () => {
            showGalleryModal(quotes.btn1, 'text', 'ğŸ’Œ');
        });
        
        btn2.addEventListener('click', () => {
            showGalleryModal(quotes.btn2, 'text', 'âœ¨');
        });
        
        btn3.addEventListener('click', () => {
            showGalleryModal(quotes.btn3, 'text', 'ğŸ‰');
        });
        
        btn4.addEventListener('click', () => {
            if (photoLinks.length === 0) {
                 // å¦‚æœç…§ç‰‡åŠ è½½å¤±è´¥, ä¹Ÿç”¨ç”»å»Šå¼¹çª—æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                 showGalleryModal(['ç…§ç‰‡è¿˜åœ¨è·¯ä¸Šï¼Œè¯·ç¨åå†è¯•ï¼'], 'text', 'ğŸ’”');
                 return;
            }
            showGalleryModal(photoLinks, 'photo');
        });
        
        // V1G-ZH: ç»‘å®šæ–°ç”»å»ŠæŒ‰é’®çš„äº‹ä»¶
        galleryClose.addEventListener('click', hideGalleryModal);
        galleryOverlay.addEventListener('click', hideGalleryModal);
        galleryNext.addEventListener('click', showNextItem);
        galleryPrev.addEventListener('click', showPrevItem);

        // --- 7. å¤šå½©ç²’å­é›¨æ•ˆæœ (ä¸V11ç›¸åŒ) ---
        function createParticle() {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            particle.textContent = getRandomItem(particleTypes); 
            particle.style.left = Math.random() * 100 + 'vw';
            particle.style.animationDuration = (Math.random() * 2 + 3) + 's'; // 3-5ç§’
            
            particleContainer.appendChild(particle);
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
            particle.addEventListener('animationend', () => {
                particle.remove();
            });
        }
        
        // --- 8. V1G-ZH: é¡µé¢åŠ è½½æ—¶å¯åŠ¨ (ä¸V11ç›¸åŒ) ---
        window.onload = () => {
            // å¯åŠ¨ç…§ç‰‡è·å–
            fetchPhotosFromGitHub();
            
            // ç«‹å³åˆ›å»ºä¸€äº›ç²’å­, é¿å…å¯åŠ¨æ—¶ç©ºç™½
            for (let i = 0; i < 15; i++) {
                createParticle();
            }
            // ä¿æŒæŒç»­åˆ›å»º
            setInterval(createParticle, 300);
        };

    </script>
</body>
</html>